(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{23:function(t,e,n){t.exports={inputNumber:"Form_inputNumber__1OEr1"}},24:function(t,e,n){t.exports={form_section:"Section_form_section__3z6LY",contacts_section:"Section_contacts_section__2t_ne"}},68:function(t,e,n){"use strict";n.r(e);var r,c,a,i,o,u=n(0),s=n.n(u),l=n(13),f=n.n(l),d=n(9),b=n(4),p=n(5),j=p.a.form(r||(r=Object(b.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),h=p.a.label(c||(c=Object(b.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),m=p.a.button(a||(a=Object(b.a)(["\n  display: block;\n  font-size: 22px;\n"]))),O=n(22),x=n.n(O),g=n(3),v=Object(g.b)("newContact/create",(function(t){return t.preventDefault(),i=t.target.children[0].children[1],o=t.target.children[1].children[1],{payload:{newName:i.value.trim(),newNumber:o.value}}})),y=Object(g.b)("newContact/clear",(function(){return i&&(i.value=""),o&&(o.value=""),{payload:{newName:"",newNumber:""}}})),w=n(23),N=n.n(w),k=n(1);var C,_=function(){var t=Object(d.b)();return Object(k.jsxs)(j,{onSubmit:function(e){return t(v(e))},children:[Object(k.jsxs)(h,{children:[Object(k.jsx)("span",{children:"Name"}),Object(k.jsx)(x.a,{className:N.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(k.jsxs)(h,{children:[Object(k.jsx)("span",{children:"Number"}),Object(k.jsx)(x.a,{className:N.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(k.jsx)(m,{type:"submit",children:"Add contact"})]})},z=p.a.h2(C||(C=Object(b.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var F=function(t){var e=t.message;return Object(k.jsx)("div",{children:Object(k.jsx)(z,{children:e})})},L=Object(g.b)("filter/changeFilter",(function(t){return{payload:t.trim().toLowerCase()}})),S=n(7),A=n.n(S),E=n(12),Q=n(15),T=n.n(Q),B=n(10);function D(){return I.apply(this,arguments)}function I(){return(I=Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("/contacts").then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return P.apply(this,arguments)}function P(){return(P=Object(E.a)(A.a.mark((function t(e){var n,r,c,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.newName,r=e.newNumber,t.next=3,T.a.post("/contacts",{name:n,number:r}).then((function(t){return B.Notify.info("Contact ".concat(n," was added successfully")),t})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was added.")),null}));case 3:return c=t.sent,a=c.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,e){return q.apply(this,arguments)}function q(){return(q=Object(E.a)(A.a.mark((function t(e,n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.a.delete("/contacts/"+e).then((function(t){return B.Notify.success("Contact ".concat(n," was removed successfully")),!0})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was deleted.")),!1}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}T.a.defaults.baseURL="https://my-json-server.typicode.com/sepaev/goit-react-hw-07-phonebook/";var K,M,Y,R,U,W=Object(g.c)("contacts/fetchContacts",Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),X=Object(g.c)("contacts/createContact",function(){var t=Object(E.a)(A.a.mark((function t(e){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),$=Object(g.c)("contacts/deleteContact",function(){var t=Object(E.a)(A.a.mark((function t(e){var n,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.name,t.next=3,Z(n,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),G=p.a.ul(K||(K=Object(b.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),H=p.a.input(M||(M=Object(b.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  height: 26px;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n    height: 28px;\n  }\n"]))),V=p.a.li(Y||(Y=Object(b.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),tt=p.a.span(R||(R=Object(b.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),et=p.a.button(U||(U=Object(b.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"]))),nt=n(18);var rt=function(t){return t?t.split(" ").join("").toLowerCase().trim():t};var ct=function(t,e){var n=!1,r=rt(t);return""===r&&(n=!0),e.forEach((function(t){var e=t.name;r===rt(e)&&(n=!0)})),n};var at=function(t){return t?t.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):t};var it=function(t,e){var n=at(t),r=!1;return""===t&&(r=!0),e.forEach((function(t){var e=t.number;n===at(e)&&(r=!0)})),r};var ot=function(t){var e=[],n=[];return t.forEach((function(t){e.indexOf(t.id)<0&&(e.push(t.id),n.push(t))})),n};var ut=function(t){var e="",n="";if(t)if(t.match(/\d+/)){console.log("filterQuery -- ",t),n=t.match(/\d+/).toString();var r=t.split(n),c=r[0]||r[1];e=c||""}else e=t;return{filterQueryText:e,filterQueryNumber:n}},st=function(t){var e=ft(t),n=dt(t),r=Object(nt.a)([function(){return ft(t)},function(){return dt(t)}],(function(t,e){console.log(t);var n=ut(e.toString()),r=n.filterQueryText,c=n.filterQueryNumber;if(r.length>0||c.length>0){var a=[];if(c.length>0){if(a=t.filter((function(t){var e=t.number;return at(e).includes(c)})),r.length>0){var i=t.filter((function(t){return t.name.toLowerCase().includes(r)}));return a.length>0?a.concat(i):i}return a}return a=t.filter((function(t){return t.name.toLowerCase().includes(r)}))}return t}));return r(e,n)},lt=function(t){return t.contacts},ft=function(t){return lt(t).entities},dt=function(t){return t.filter},bt=function(t){return t.newContact},pt=function(t){return t},jt=function(t){var e=ft(t),n=dt(t);if(!e||!e.length)return[];if(!n)return e;var r=st(t);return ot(r)};var ht,mt,Ot=function(){var t=Object(d.c)(lt).entities,e=Object(d.c)(jt),n=t.length?"No contacts found.":"You have no contacts yet.",r=Object(d.b)();return Object(k.jsxs)(u.Fragment,{children:[Object(k.jsxs)(G,{children:[Object(k.jsx)(H,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:function(t){return r(L(t.target.value))}}),e.length>0&&e.map((function(t){var e=t.id,n=t.name,c=t.number;return Object(k.jsxs)(V,{children:["\u260e "+n+": ",Object(k.jsxs)(tt,{children:[c,Object(k.jsx)(et,{id:e,onClick:function(){return r($({id:e,name:n}))},children:"X"})]})]},e)}))]}),!e.length&&Object(k.jsx)(F,{message:n})]})},xt=p.a.section(ht||(ht=Object(b.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),gt=p.a.h1(mt||(mt=Object(b.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"]))),vt=n(24),yt=n.n(vt);B.Notify.init({position:"center-top"});var wt=function(t){var e=t.title,n=t.component,r="Form"===n?yt.a.form_section:yt.a.contacts_section;return Object(k.jsxs)(xt,{className:r,children:[Object(k.jsx)(gt,{children:e}),"Form"===n&&Object(k.jsx)(_,{}),"Contacts"===n&&Object(k.jsx)(Ot,{})]})};var Nt=function(t){var e=function(t,e){var n=t.newName,r=t.newNumber,c="";if(!n||!r||!e)return{result:!1,message:c};if(it(r,e))return{result:!1,message:c="Can't do this operation. Number ".concat(r," already exists.")};if(ct(n,e))return{result:!1,message:c="Can't do this operation. Name ".concat(n," already exists.")};return{result:!0,message:c="Well Done! Added "+n}}(bt(t),ft(t));return!!e.result||(e.message&&B.Notify.failure(e.message),!1)};B.Notify.init({position:"center-top"});var kt,Ct,_t,zt,Ft=function(){var t=Object(d.c)(bt),e=Object(d.c)(pt),n=Object(d.b)();return Object(u.useEffect)((function(){n(W())}),[n]),Object(u.useEffect)((function(){""!==t.name&&Nt(e)&&(!function(t){n(X(t))}(t),n(y()))}),[e,n,t]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(wt,{title:"Phonebook",component:"Form"}),Object(k.jsx)("hr",{}),Object(k.jsx)(wt,{title:"Contacts",component:"Contacts"})]})},Lt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))},St=n(19),At=n(11),Et=n(35),Qt=n.n(Et),Tt=n(2),Bt=Object(g.d)("",Object(Tt.a)({},L.type,(function(t,e){return e.payload}))),Dt=Object(g.d)({newName:"",newNumber:""},(kt={},Object(Tt.a)(kt,v,(function(t,e){return e.payload})),Object(Tt.a)(kt,y,(function(t,e){return e.payload})),kt)),It=Object(g.d)([],(Ct={},Object(Tt.a)(Ct,X.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(St.a)(t),[n])})),Object(Tt.a)(Ct,$.fulfilled,(function(t,e){var n=e.meta.arg;return t.filter((function(t){return t.id!==n.id}))})),Object(Tt.a)(Ct,W.fulfilled,(function(t,e){var n=e.payload;return t.length===n.length?t:n})),Ct)),Jt=Object(g.d)(!1,(_t={},Object(Tt.a)(_t,W.pending,(function(){return!0})),Object(Tt.a)(_t,W.fulfilled,(function(){return!1})),Object(Tt.a)(_t,W.rejected,(function(){return!1})),Object(Tt.a)(_t,X.pending,(function(){return!0})),Object(Tt.a)(_t,X.fulfilled,(function(){return!1})),Object(Tt.a)(_t,X.rejected,(function(){return!1})),Object(Tt.a)(_t,$.pending,(function(){return!0})),Object(Tt.a)(_t,$.fulfilled,(function(){return!1})),Object(Tt.a)(_t,$.rejected,(function(){return!1})),_t)),Pt=Object(g.d)(null,(zt={},Object(Tt.a)(zt,W.rejected,(function(t,e){return e.payload})),Object(Tt.a)(zt,W.pending,(function(){return null})),Object(Tt.a)(zt,X.rejected,(function(t,e){return e.payload})),Object(Tt.a)(zt,X.pending,(function(){return null})),Object(Tt.a)(zt,$.rejected,(function(t,e){return e.payload})),Object(Tt.a)(zt,$.pending,(function(){return null})),zt)),Zt=[].concat(Object(St.a)(Object(g.e)({})),[Qt.a]),qt=Object(At.b)({contacts:Object(At.b)({isLoading:Jt,entities:It,error:Pt}),filter:Bt,newContact:Dt}),Kt=Object(g.a)({reducer:qt,middleware:Zt,devTools:!1});f.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(d.a,{store:Kt,children:Object(k.jsx)(Ft,{})})}),document.getElementById("root")),Lt()}},[[68,1,2]]]);
//# sourceMappingURL=main.51e6a21f.chunk.js.map