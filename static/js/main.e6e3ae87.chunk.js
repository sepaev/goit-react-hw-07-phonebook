(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{23:function(t,n,e){t.exports={inputNumber:"Form_inputNumber__1OEr1"}},24:function(t,n,e){t.exports={form_section:"Section_form_section__3z6LY",contacts_section:"Section_contacts_section__2t_ne"}},68:function(t,n,e){"use strict";e.r(n);var r,c,a,i,o,u=e(0),s=e.n(u),l=e(13),f=e.n(l),d=e(9),b=e(4),p=e(5),j=p.a.form(r||(r=Object(b.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),h=p.a.label(c||(c=Object(b.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),m=p.a.button(a||(a=Object(b.a)(["\n  display: block;\n  font-size: 22px;\n"]))),O=e(22),x=e.n(O),g=e(3),v=Object(g.b)("newContact/create",(function(t){return t.preventDefault(),i=t.target.children[0].children[1],o=t.target.children[1].children[1],{payload:{newName:i.value.trim(),newNumber:o.value}}})),y=Object(g.b)("newContact/clear",(function(){return i&&(i.value=""),o&&(o.value=""),{payload:{newName:"",newNumber:""}}})),w=e(23),N=e.n(w),C=e(1);var k,_=function(){var t=Object(d.b)();return Object(C.jsxs)(j,{onSubmit:function(n){return t(v(n))},children:[Object(C.jsxs)(h,{children:[Object(C.jsx)("span",{children:"Name"}),Object(C.jsx)(x.a,{className:N.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(C.jsxs)(h,{children:[Object(C.jsx)("span",{children:"Number"}),Object(C.jsx)(x.a,{className:N.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(C.jsx)(m,{type:"submit",children:"Add contact"})]})},z=p.a.h2(k||(k=Object(b.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var F=function(t){var n=t.message;return Object(C.jsx)("div",{children:Object(C.jsx)(z,{children:n})})},L=Object(g.b)("filter/changeFilter",(function(t){return{payload:t.trim().toLowerCase()}})),S=e(7),A=e.n(S),E=e(12),Q=e(15),T=e.n(Q),B=e(10);function D(){return I.apply(this,arguments)}function I(){return(I=Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("/contacts").then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return P.apply(this,arguments)}function P(){return(P=Object(E.a)(A.a.mark((function t(n){var e,r,c,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.newName,r=n.newNumber,t.next=3,T.a.post("/contacts",{name:e,number:r}).then((function(t){return B.Notify.info("Contact ".concat(e," was added successfully")),t})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was added.")),null}));case 3:return c=t.sent,a=c.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,n){return q.apply(this,arguments)}function q(){return(q=Object(E.a)(A.a.mark((function t(n,e){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.a.delete("/contacts/"+n).then((function(t){return B.Notify.success("Contact ".concat(e," was removed successfully")),!0})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was deleted.")),!1}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}T.a.defaults.baseURL="http://localhost:4321";var K,M,Y,R,U,W=Object(g.c)("contacts/fetchContacts",Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),X=Object(g.c)("contacts/createContact",function(){var t=Object(E.a)(A.a.mark((function t(n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),$=Object(g.c)("contacts/deleteContact",function(){var t=Object(E.a)(A.a.mark((function t(n){var e,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.id,r=n.name,t.next=3,Z(e,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),G=p.a.ul(K||(K=Object(b.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),H=p.a.input(M||(M=Object(b.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  height: 26px;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n    height: 28px;\n  }\n"]))),V=p.a.li(Y||(Y=Object(b.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),tt=p.a.span(R||(R=Object(b.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),nt=p.a.button(U||(U=Object(b.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"]))),et=e(18);var rt=function(t){return t?t.split(" ").join("").toLowerCase().trim():t};var ct=function(t,n){var e=!1,r=rt(t);return""===r&&(e=!0),n.forEach((function(t){var n=t.name;r===rt(n)&&(e=!0)})),e};var at=function(t){return t?t.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):t};var it=function(t,n){var e=at(t),r=!1;return""===t&&(r=!0),n.forEach((function(t){var n=t.number;e===at(n)&&(r=!0)})),r};var ot=function(t){var n=[],e=[];return t.forEach((function(t){n.indexOf(t.id)<0&&(n.push(t.id),e.push(t))})),e};var ut=function(t){var n="",e="";if(t)if(t.match(/\d+/)){console.log("filterQuery -- ",t),e=t.match(/\d+/).toString();var r=t.split(e),c=r[0]||r[1];n=c||""}else n=t;return{filterQueryText:n,filterQueryNumber:e}},st=function(t){var n=ft(t),e=dt(t),r=Object(et.a)([function(){return ft(t)},function(){return dt(t)}],(function(t,n){console.log(t);var e=ut(n.toString()),r=e.filterQueryText,c=e.filterQueryNumber;if(r.length>0||c.length>0){var a=[];if(c.length>0){if(a=t.filter((function(t){var n=t.number;return at(n).includes(c)})),r.length>0){var i=t.filter((function(t){return t.name.toLowerCase().includes(r)}));return a.length>0?a.concat(i):i}return a}return a=t.filter((function(t){return t.name.toLowerCase().includes(r)}))}return t}));return r(n,e)},lt=function(t){return t.contacts},ft=function(t){return lt(t).entities},dt=function(t){return t.filter},bt=function(t){return t.newContact},pt=function(t){return t},jt=function(t){var n=ft(t),e=dt(t);if(!n||!n.length)return[];if(!e)return n;var r=st(t);return ot(r)};var ht,mt,Ot=function(){var t=Object(d.c)(lt).entities,n=Object(d.c)(jt),e=t.length?"No contacts found.":"You have no contacts yet.",r=Object(d.b)();return Object(C.jsxs)(u.Fragment,{children:[Object(C.jsxs)(G,{children:[Object(C.jsx)(H,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:function(t){return r(L(t.target.value))}}),n.length>0&&n.map((function(t){var n=t.id,e=t.name,c=t.number;return Object(C.jsxs)(V,{children:["\u260e "+e+": ",Object(C.jsxs)(tt,{children:[c,Object(C.jsx)(nt,{id:n,onClick:function(){return r($({id:n,name:e}))},children:"X"})]})]},n)}))]}),!n.length&&Object(C.jsx)(F,{message:e})]})},xt=p.a.section(ht||(ht=Object(b.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),gt=p.a.h1(mt||(mt=Object(b.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"]))),vt=e(24),yt=e.n(vt);B.Notify.init({position:"center-top"});var wt=function(t){var n=t.title,e=t.component,r="Form"===e?yt.a.form_section:yt.a.contacts_section;return Object(C.jsxs)(xt,{className:r,children:[Object(C.jsx)(gt,{children:n}),"Form"===e&&Object(C.jsx)(_,{}),"Contacts"===e&&Object(C.jsx)(Ot,{})]})};var Nt=function(t){var n=function(t,n){var e=t.newName,r=t.newNumber,c="";if(!e||!r||!n)return{result:!1,message:c};if(it(r,n))return{result:!1,message:c="Can't do this operation. Number ".concat(r," already exists.")};if(ct(e,n))return{result:!1,message:c="Can't do this operation. Name ".concat(e," already exists.")};return{result:!0,message:c="Well Done! Added "+e}}(bt(t),ft(t));return!!n.result||(n.message&&B.Notify.failure(n.message),!1)};B.Notify.init({position:"center-top"});var Ct,kt,_t,zt,Ft=function(){var t=Object(d.c)(bt),n=Object(d.c)(pt),e=Object(d.b)();return Object(u.useEffect)((function(){e(W())}),[e]),Object(u.useEffect)((function(){""!==t.name&&Nt(n)&&(!function(t){e(X(t))}(t),e(y()))}),[n,e,t]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(wt,{title:"Phonebook",component:"Form"}),Object(C.jsx)("hr",{}),Object(C.jsx)(wt,{title:"Contacts",component:"Contacts"})]})},Lt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,69)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;e(t),r(t),c(t),a(t),i(t)}))},St=e(19),At=e(11),Et=e(35),Qt=e.n(Et),Tt=e(2),Bt=Object(g.d)("",Object(Tt.a)({},L.type,(function(t,n){return n.payload}))),Dt=Object(g.d)({newName:"",newNumber:""},(Ct={},Object(Tt.a)(Ct,v,(function(t,n){return n.payload})),Object(Tt.a)(Ct,y,(function(t,n){return n.payload})),Ct)),It=Object(g.d)([],(kt={},Object(Tt.a)(kt,X.fulfilled,(function(t,n){var e=n.payload;return[].concat(Object(St.a)(t),[e])})),Object(Tt.a)(kt,$.fulfilled,(function(t,n){var e=n.meta.arg;return t.filter((function(t){return t.id!==e.id}))})),Object(Tt.a)(kt,W.fulfilled,(function(t,n){var e=n.payload;return t.length===e.length?t:e})),kt)),Jt=Object(g.d)(!1,(_t={},Object(Tt.a)(_t,W.pending,(function(){return!0})),Object(Tt.a)(_t,W.fulfilled,(function(){return!1})),Object(Tt.a)(_t,W.rejected,(function(){return!1})),Object(Tt.a)(_t,X.pending,(function(){return!0})),Object(Tt.a)(_t,X.fulfilled,(function(){return!1})),Object(Tt.a)(_t,X.rejected,(function(){return!1})),Object(Tt.a)(_t,$.pending,(function(){return!0})),Object(Tt.a)(_t,$.fulfilled,(function(){return!1})),Object(Tt.a)(_t,$.rejected,(function(){return!1})),_t)),Pt=Object(g.d)(null,(zt={},Object(Tt.a)(zt,W.rejected,(function(t,n){return n.payload})),Object(Tt.a)(zt,W.pending,(function(){return null})),Object(Tt.a)(zt,X.rejected,(function(t,n){return n.payload})),Object(Tt.a)(zt,X.pending,(function(){return null})),Object(Tt.a)(zt,$.rejected,(function(t,n){return n.payload})),Object(Tt.a)(zt,$.pending,(function(){return null})),zt)),Zt=[].concat(Object(St.a)(Object(g.e)({})),[Qt.a]),qt=Object(At.b)({contacts:Object(At.b)({isLoading:Jt,entities:It,error:Pt}),filter:Bt,newContact:Dt}),Kt=Object(g.a)({reducer:qt,middleware:Zt,devTools:!1});f.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(d.a,{store:Kt,children:Object(C.jsx)(Ft,{})})}),document.getElementById("root")),Lt()}},[[68,1,2]]]);
//# sourceMappingURL=main.e6e3ae87.chunk.js.map