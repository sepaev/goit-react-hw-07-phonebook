(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{22:function(t,e,n){t.exports={inputNumber:"Form_inputNumber__1OEr1"}},23:function(t,e,n){t.exports={form_section:"Section_form_section__3z6LY",contacts_section:"Section_contacts_section__2t_ne"}},67:function(t,e,n){"use strict";n.r(e);var r,c,a,o,i,u=n(0),s=n.n(u),l=n(13),f=n.n(l),d=n(9),b=n(4),p=n(5),j=p.a.form(r||(r=Object(b.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),h=p.a.label(c||(c=Object(b.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),m=p.a.button(a||(a=Object(b.a)(["\n  display: block;\n  font-size: 22px;\n"]))),O=n(21),x=n.n(O),g=n(3),v=Object(g.b)("newContact/create",(function(t){return t.preventDefault(),o=t.target.children[0].children[1],i=t.target.children[1].children[1],{payload:{newName:o.value.trim(),newNumber:i.value}}})),y=Object(g.b)("newContact/clear",(function(){return o&&(o.value=""),i&&(i.value=""),{payload:{newName:"",newNumber:""}}})),w=n(22),N=n.n(w),C=n(1);var k,_=function(){var t=Object(d.b)();return Object(C.jsxs)(j,{onSubmit:function(e){return t(v(e))},children:[Object(C.jsxs)(h,{children:[Object(C.jsx)("span",{children:"Name"}),Object(C.jsx)(x.a,{className:N.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(C.jsxs)(h,{children:[Object(C.jsx)("span",{children:"Number"}),Object(C.jsx)(x.a,{className:N.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(C.jsx)(m,{type:"submit",children:"Add contact"})]})},z=p.a.h2(k||(k=Object(b.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var F=function(t){var e=t.message;return Object(C.jsx)("div",{children:Object(C.jsx)(z,{children:e})})},L=Object(g.b)("filter/changeFilter",(function(t){return console.log(t.trim().toLowerCase()),{payload:t.trim().toLowerCase()}})),S=n(7),A=n.n(S),E=n(12),T=n(15),Q=n.n(T),B=n(10);function D(){return I.apply(this,arguments)}function I(){return(I=Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.a.get("/contacts").then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t){return P.apply(this,arguments)}function P(){return(P=Object(E.a)(A.a.mark((function t(e){var n,r,c,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.newName,r=e.newNumber,t.next=3,Q.a.post("/contacts",{name:n,number:r}).then((function(t){return B.Notify.info("Contact ".concat(n," was added successfully")),t})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was added.")),null}));case 3:return c=t.sent,a=c.data,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,e){return q.apply(this,arguments)}function q(){return(q=Object(E.a)(A.a.mark((function t(e,n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Q.a.delete("/contacts/"+e).then((function(t){return B.Notify.success("Contact ".concat(n," was removed successfully")),!0})).catch((function(t){return B.Notify.failure("Oh, no! ".concat(t.message," Nothing was deleted.")),!1}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Q.a.defaults.baseURL="http://localhost:4321";var K=Object(g.c)("contacts/fetchContacts",Object(E.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),M=Object(g.c)("contacts/createContact",function(){var t=Object(E.a)(A.a.mark((function t(e){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Y=Object(g.c)("contacts/deleteContact",function(){var t=Object(E.a)(A.a.mark((function t(e){var n,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.name,t.next=3,Z(n,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var R=function(t){return t?t.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):t};var U,W,X,$,G,H=function(t,e){if(!t||!t.length)return[];if(!e)return t;var n=function(t,e){var n=function(t){var e="",n="";if(t)if(t.match(/\d+/)){n=t.match(/\d+/).toString();var r=t.split(n),c=r[0]||r[1];e=c||""}else e=t;return{filterQueryText:e,filterQueryNumber:n}}(e.toString()),r=n.filterQueryText,c=n.filterQueryNumber;if(r.length>0||c.length>0){var a=[];if(c.length>0){if(a=t.filter((function(t){var e=t.number;return R(e).includes(c)})),r.length>0){var o=t.filter((function(t){return t.name.toLowerCase().includes(r)}));return a.length>0?a.concat(o):o}return a}return a=t.filter((function(t){return t.name.toLowerCase().includes(r)}))}return t}(t,e),r=function(t){var e=[],n=[];return t.forEach((function(t){e.indexOf(t.id)<0&&(e.push(t.id),n.push(t))})),n}(n);return r},V=p.a.ul(U||(U=Object(b.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),tt=p.a.input(W||(W=Object(b.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  height: 26px;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n    height: 28px;\n  }\n"]))),et=p.a.li(X||(X=Object(b.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),nt=p.a.span($||($=Object(b.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),rt=p.a.button(G||(G=Object(b.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"]))),ct=function(t){return t.contacts},at=function(t){return t.filter},ot=function(t){return t.newContact};var it,ut,st=function(){var t=Object(d.c)(ct).entities,e=Object(d.c)(at),n=H(t,e),r=t.length?"No contacts found.":"You have no contacts yet.",c=Object(d.b)();return Object(C.jsxs)(u.Fragment,{children:[Object(C.jsxs)(V,{children:[Object(C.jsx)(tt,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:function(t){return c(L(t.target.value))}}),n.length>0&&n.map((function(t){var e=t.id,n=t.name,r=t.number;return Object(C.jsxs)(et,{children:["\u260e "+n+": ",Object(C.jsxs)(nt,{children:[r,Object(C.jsx)(rt,{id:e,onClick:function(){return c(Y({id:e,name:n}))},children:"X"})]})]},e)}))]}),!n.length&&Object(C.jsx)(F,{message:r})]})},lt=p.a.section(it||(it=Object(b.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),ft=p.a.h1(ut||(ut=Object(b.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"]))),dt=n(23),bt=n.n(dt);B.Notify.init({position:"center-top"});var pt=function(t){var e=t.title,n=t.component,r="Form"===n?bt.a.form_section:bt.a.contacts_section;return Object(C.jsxs)(lt,{className:r,children:[Object(C.jsx)(ft,{children:e}),"Form"===n&&Object(C.jsx)(_,{}),"Contacts"===n&&Object(C.jsx)(st,{})]})};function jt(t){return t?t.split(" ").join("").toLowerCase().trim():t}var ht=function(t,e){var n=function(t,e){var n=t.newName,r=t.newNumber;return n&&r&&e?function(t,e){var n=R(t),r=!1;""===t&&(r=!0);return e.forEach((function(t){var e=t.number;n===R(e)&&(r=!0)})),r}(r,e)?{result:!1,message:"Can't do this operation. Number ".concat(r," already exists.")}:function(t,e){var n=!1,r=jt(t);""===r&&(n=!0);return e.forEach((function(t){var e=t.name;r===jt(e)&&(n=!0)})),n}(n,e)?{result:!1,message:"Can't do this operation. Name ".concat(n," already exists.")}:{result:!0,message:"Well Done! Added "+n}:{result:!1,message:""}}(t,e);return!!n.result||(n.message&&B.Notify.failure(n.message),!1)};B.Notify.init({position:"center-top"});var mt,Ot,xt,gt,vt=function(){var t=Object(d.c)(ot),e=Object(d.c)(ct).entities,n=Object(d.b)();return Object(u.useEffect)((function(){n(K())}),[n]),Object(u.useEffect)((function(){""!==t.name&&ht(t,e)&&(!function(t){n(M(t))}(t),n(y()))}),[e,n,t]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(pt,{title:"Phonebook",component:"Form"}),Object(C.jsx)("hr",{}),Object(C.jsx)(pt,{title:"Contacts",component:"Contacts"})]})},yt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),r(t),c(t),a(t),o(t)}))},wt=n(18),Nt=n(11),Ct=n(34),kt=n.n(Ct),_t=n(2),zt=Object(g.d)("",Object(_t.a)({},L.type,(function(t,e){return e.payload}))),Ft=Object(g.d)({newName:"",newNumber:""},(mt={},Object(_t.a)(mt,v,(function(t,e){return e.payload})),Object(_t.a)(mt,y,(function(t,e){return e.payload})),mt)),Lt=Object(g.d)([],(Ot={},Object(_t.a)(Ot,M.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(wt.a)(t),[n])})),Object(_t.a)(Ot,Y.fulfilled,(function(t,e){var n=e.meta.arg;return t.filter((function(t){return t.id!==n.id}))})),Object(_t.a)(Ot,K.fulfilled,(function(t,e){var n=e.payload;return console.log(t.length),console.log(n.length),t.length===n.length?t:n})),Ot)),St=Object(g.d)(!1,(xt={},Object(_t.a)(xt,K.pending,(function(){return!0})),Object(_t.a)(xt,K.fulfilled,(function(){return!1})),Object(_t.a)(xt,K.rejected,(function(){return!1})),Object(_t.a)(xt,M.pending,(function(){return!0})),Object(_t.a)(xt,M.fulfilled,(function(){return!1})),Object(_t.a)(xt,M.rejected,(function(){return!1})),Object(_t.a)(xt,Y.pending,(function(){return!0})),Object(_t.a)(xt,Y.fulfilled,(function(){return!1})),Object(_t.a)(xt,Y.rejected,(function(){return!1})),xt)),At=Object(g.d)(null,(gt={},Object(_t.a)(gt,K.rejected,(function(t,e){return e.payload})),Object(_t.a)(gt,K.pending,(function(){return null})),Object(_t.a)(gt,M.rejected,(function(t,e){return e.payload})),Object(_t.a)(gt,M.pending,(function(){return null})),Object(_t.a)(gt,Y.rejected,(function(t,e){return e.payload})),Object(_t.a)(gt,Y.pending,(function(){return null})),gt)),Et=[].concat(Object(wt.a)(Object(g.e)({})),[kt.a]),Tt=Object(Nt.b)({contacts:Object(Nt.b)({isLoading:St,entities:Lt,error:At}),filter:zt,newContact:Ft}),Qt=Object(g.a)({reducer:Tt,middleware:Et,devTools:!1});f.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(d.a,{store:Qt,children:Object(C.jsx)(vt,{})})}),document.getElementById("root")),yt()}},[[67,1,2]]]);
//# sourceMappingURL=main.9e038600.chunk.js.map