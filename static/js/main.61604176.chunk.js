(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{13:function(t,e,n){t.exports={inputNumber:"Form_inputNumber__1OEr1"}},31:function(t,e,n){"use strict";n.r(e);var r,a,c,o,i,s=n(0),u=n(7),l=n.n(u),d=n(6),f=n(2),p=n(3),b=p.a.form(r||(r=Object(f.a)(["\n  display: block;\n  border: solid 1px black;\n  padding: 10px;\n"]))),m=p.a.label(a||(a=Object(f.a)(["\n  display: block;\n  font-size: 26px;\n  margin-bottom: 20px;\n  font-weight: 600;\n"]))),h=p.a.button(c||(c=Object(f.a)(["\n  display: block;\n  font-size: 22px;\n"]))),j=n(12),g=n.n(j),x={ADD:"contacts/create",DELETE:"contacts/delete",CHANGE_FILTER:"filter/changeFilter",ADD_NEW_CONTACT:"newContact/create",REMOVE_NEW_CONTACT:"newContact/clear",CHECK_NEW_CONTACT:"newContact/check"},O=n(13),v=n.n(O),C=n(1);var N,y=Object(d.b)(null,(function(t){return{onSubmit:function(e){return t(function(t){t.preventDefault(),o=t.target.children[0].children[1],i=t.target.children[1].children[1];var e=o.value.trim(),n=i.value;return{type:x.ADD_NEW_CONTACT,payload:{newName:e,newNumber:n}}}(e))}}}))((function(t){var e=t.onSubmit;return Object(C.jsxs)(b,{onSubmit:e,children:[Object(C.jsxs)(m,{children:[Object(C.jsx)("span",{children:"Name"}),Object(C.jsx)(g.a,{className:v.a.inputNumber,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",placeholder:"Arnold Schwarzenegger",maxLength:"25",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0},"nameKey")]}),Object(C.jsxs)(m,{children:[Object(C.jsx)("span",{children:"Number"}),Object(C.jsx)(g.a,{className:v.a.inputNumber,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",placeholder:"+38 (099) 999-99-99",mask:"+38 (099) 999-99-99",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0},"numberKey")]}),Object(C.jsx)(h,{type:"submit",children:"Add contact"})]})})),w=p.a.h2(N||(N=Object(f.a)(["\n  font-weight: 400;\n  color: teal;\n"])));var E=function(t){var e=t.message;return Object(C.jsx)("div",{children:Object(C.jsx)(w,{children:e})})},T=n(33),A=n(5);var _=function(t){return t?t.split(" ").join("").split("(").join("").split(")").join("").split("-").join("").split("+").join(""):t};var D,k,S,F,L,z=function(t,e){if(!t||!t.length)return[];if(!e)return t;var n=function(t,e){var n=function(t){var e="",n="";if(t)if(t.match(/\d+/)){n=t.match(/\d+/).toString();var r=t.split(n),a=r[0]||r[1];e=a||""}else e=t;return{filterQueryText:e,filterQueryNumber:n}}(e.toString()),r=n.filterQueryText,a=n.filterQueryNumber;if(r.length>0||a.length>0){var c=[];if(a.length>0){if(c=t.filter((function(t){var e=t.number;return _(e).includes(a)})),r.length>0){var o=t.filter((function(t){return t.name.toLowerCase().includes(r)}));return c.length>0?c.concat(o):o}return c}return c=t.filter((function(t){return t.name.toLowerCase().includes(r)}))}return t}(t,e),r=function(t){var e=[],n=[];return t.forEach((function(t){e.indexOf(t.id)<0&&(e.push(t.id),n.push(t))})),n}(n);return r},W=p.a.ul(D||(D=Object(f.a)(["\n  display: block;\n  padding-left: 10px;\n"]))),I=p.a.input(k||(k=Object(f.a)(["\n  display: block;\n  margin-bottom: 20px;\n  font-size: 22px;\n  outline: unset;\n  &:focus,\n  &:hover {\n    filter: drop-shadow(0px 0px 5px lightblue);\n    border: 1px solid lightblue;\n  }\n"]))),R=p.a.li(S||(S=Object(f.a)(["\n  display: block;\n  font-family: monospace;\n  list-style-type: disc;\n  font-size: 18px;\n  margin-bottom: 2px;\n"]))),J=p.a.span(F||(F=Object(f.a)(["\n  position: fixed;\n  right: 45px;\n  display: inline-flex;\n"]))),H=p.a.button(L||(L=Object(f.a)(["\n  margin-left: 5px;\n  padding: 2px;\n  font-size: 10px;\n  width: 20px;\n  height: 20px;\n"])));var K,M,Q=Object(d.b)((function(t){return{contacts:t.contacts,message:t.contacts.length?"Sorrry, no contacts found.":"Sorrry, you have no contacts yet.",filter:t.filter}}),(function(t){return{searchFunc:function(e){return t(function(t){return{type:x.CHANGE_FILTER,payload:t.target.value.trim().toLowerCase()}}(e))},deleteContact:function(e,n){return t(function(t,e){if(t){var n=e.find((function(e){return e.id===t}));if(n)return A.Notify.info("Contact ".concat(n.name," was removed successfully")),{type:x.DELETE,payload:t};A.Notify.failure("Oh, no! Nothing was deleted.")}}(e,n))}}}))((function(t){var e=t.contacts,n=t.searchFunc,r=t.deleteContact,a=t.message,c=t.filter,o=z(e,c);return Object(C.jsxs)(s.Fragment,{children:[Object(C.jsxs)(W,{children:[Object(C.jsx)(I,{type:"text",name:"search",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438\u043b\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",placeholder:"Search contact",onInput:n}),o.length>0&&o.map((function(t){var n=t.id,a=t.name,c=t.number;return Object(C.jsxs)(R,{children:["\u2022 "+a+": ",Object(C.jsxs)(J,{children:[c,Object(C.jsx)(H,{id:n,onClick:function(){return r(n,e)},children:"X"})]})]},n)}))]}),!o.length&&Object(C.jsx)(E,{message:a})]})})),B=p.a.section(K||(K=Object(f.a)(["\n  text-align: left;\n  max-width: 500px;\n  width: 100%;\n  margin: auto;\n  border: solid 1px black;\n  background-color: white;\n  filter: drop-shadow(2px 4px 6px black);\n  padding: 25px;\n  border-radius: 10px;\n  margin: 50px auto;\n"]))),G=p.a.h1(M||(M=Object(f.a)(["\n  font-size: 28px;\n  margin: 0 0 20px;\n  font-weight: 700;\n"])));A.Notify.init({position:"center-top"});var P=function(t){var e=t.title,n=t.component;return t.doAddContact,Object(C.jsxs)(B,{children:[Object(C.jsx)(G,{children:e}),"Form"===n&&Object(C.jsx)(y,{}),"Contacts"===n&&Object(C.jsx)(Q,{})]})};function V(t){return t?t.split(" ").join("").toLowerCase().trim():t}var Z=function(t,e){var n=function(t,e){var n=t.newName,r=t.newNumber;return n&&r&&e?function(t,e){var n=_(t),r=!1;""===t&&(r=!0);return e.forEach((function(t){var e=t.number;n===_(e)&&(r=!0)})),r}(r,e)?{result:!1,message:"Can't do this operation. Number ".concat(r," already exists.")}:function(t,e){var n=!1,r=V(t);""===r&&(n=!0);return e.forEach((function(t){var e=t.name;r===V(e)&&(n=!0)})),n}(n,e)?{result:!1,message:"Can't do this operation. Name ".concat(n," already exists.")}:{result:!0,message:"Well Done! Added "+n}:{result:!1,message:""}}(t,e);return n.result?(A.Notify.success(n.message),!0):(n.message&&A.Notify.failure(n.message),!1)};A.Notify.init({position:"center-top"});var q=Object(d.b)((function(t){return{contacts:t.contacts,newContact:t.newContact}}),(function(t){return{addContact:function(e){return t(function(t){var e=t.newName,n=t.newNumber;return{type:x.ADD,payload:{id:Object(T.a)(),name:e,number:n}}}(e))},clearNewContact:function(){return t((o&&(o.value=""),i&&(i.value=""),{type:x.REMOVE_NEW_CONTACT,payload:{newName:"",newNumber:""}}))}}}))((function(t){var e=t.contacts,n=t.newContact,r=t.clearNewContact,a=t.addContact;return Object(s.useEffect)((function(){""!==n.name&&Z(n,e)&&(a(n),r())}),[a,r,e,n]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(P,{title:"Phonebook",component:"Form"}),Object(C.jsx)("hr",{}),Object(C.jsx)(P,{title:"Contacts",component:"Contacts"})]})})),X=n(9),$=n(15),U=n(16),Y=JSON.parse(window.localStorage.getItem("contacts")),tt=Object(X.combineReducers)({contacts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y||[],e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload,a=[];switch(n){case x.ADD:return a=[].concat(Object(U.a)(t),[r]),window.localStorage.setItem("contacts",JSON.stringify(a)),a;case x.DELETE:return a=t.filter((function(t){return t.id!==r})),window.localStorage.setItem("contacts",JSON.stringify(a)),a;default:return t}},filter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;return n===x.CHANGE_FILTER?r:t},newContact:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{newName:"",newNumber:""},e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case x.ADD_NEW_CONTACT:case x.REMOVE_NEW_CONTACT:case x.CHECK_NEW_CONTACT:return r;default:return t}}}),et=Object(X.createStore)(tt,Object($.composeWithDevTools)()),nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),c(t),o(t)}))};l.a.render(Object(C.jsx)(d.a,{store:et,children:Object(C.jsx)(q,{})}),document.getElementById("root")),nt()}},[[31,1,2]]]);
//# sourceMappingURL=main.61604176.chunk.js.map